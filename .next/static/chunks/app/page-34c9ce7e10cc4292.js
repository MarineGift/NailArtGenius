(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3580:(e,s,t)=>{"use strict";t.d(s,{dj:()=>m});var a=t(2115);let r=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},n=[],c={toasts:[]};function d(e){c=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(c,e),n.forEach(e=>{e(c)})}function o(e){let{...s}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=a.useState(c);return a.useEffect(()=>(n.push(s),()=>{let e=n.indexOf(s);e>-1&&n.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(2596),r=t(9688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},6474:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eQ});var a=t(5155),r=t(2115),l=t(5579),i=t(5695),n=t(3254);function c(){return(0,n.createBrowserClient)("https://demo-connienail.supabase.co","demo_anon_key_connienail_luxury_admin")}async function d(e,s){let t=c();try{let{data:a,error:r}=await t.auth.signInWithPassword({email:e,password:s});if(r)throw r;if(a.user){let{data:s,error:r}=await t.from("admin_users").select("*").eq("email",e).single();if(r)return{id:a.user.id,email:a.user.email,firstName:"Admin",lastName:"User",role:"super_admin",department:"Management",permissions:["all"]};return{id:a.user.id,email:a.user.email,firstName:s.first_name,lastName:s.last_name,role:s.role,department:s.department,permissions:s.permissions||[]}}return null}catch(e){return console.error("Sign in error:",e),null}}async function o(){let e=c();await e.auth.signOut()}async function m(){let e=c();try{let{data:{user:s},error:t}=await e.auth.getUser();if(t||!s)return null;let{data:a,error:r}=await e.from("admin_users").select("*").eq("email",s.email).single();if(r)return{id:s.id,email:s.email,firstName:"Admin",lastName:"User",role:"super_admin",department:"Management",permissions:["all"]};return{id:s.id,email:s.email,firstName:a.first_name,lastName:a.last_name,role:a.role,department:a.department,permissions:a.permissions||[]}}catch(e){return console.error("Get current user error:",e),null}}function x(e,s){var t,a;return!!e&&((null==(t=e.permissions)?void 0:t.includes("all"))||(null==(a=e.permissions)?void 0:a.includes(s))||!1)}function h(e){return x(e,"manage_admins")||(null==e?void 0:e.role)==="super_admin"}function p(e){return x(e,"manage_bookings")||["super_admin","admin"].includes((null==e?void 0:e.role)||"")}async function u(){return[{id:"1",email:"admin@connienail.com",first_name:"ConnieNail",last_name:"Admin",role:"super_admin",department:"Management",created_at:"2024-08-15"}]}async function j(e){return{id:Math.random().toString(36).substr(2,9),...e,created_at:new Date().toISOString()}}t(8102);var f=t(9708),g=t(2085),v=t(3999);let N=(0,g.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),b=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:i=!1,...n}=e,c=i?f.DX:"button";return(0,a.jsx)(c,{className:(0,v.cn)(N({variant:r,size:l,className:t})),ref:s,...n})});b.displayName="Button";let y=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,v.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});y.displayName="Input";var w=t(968);let k=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(w.b,{ref:s,className:(0,v.cn)(k(),t),...r})});C.displayName=w.b.displayName;let A=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,v.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});A.displayName="Card";let S=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,v.cn)("flex flex-col space-y-1.5 p-6",t),...r})});S.displayName="CardHeader";let F=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,v.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});F.displayName="CardTitle";let T=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,v.cn)("text-sm text-muted-foreground",t),...r})});T.displayName="CardDescription";let P=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,v.cn)("p-6 pt-0",t),...r})});P.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,v.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var E=t(3580),_=t(8883),R=t(2919),O=t(1154);function I(e){let{onSuccess:s}=e,[t,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(""),[c,o]=(0,r.useState)(!1),{toast:m}=(0,E.dj)(),x=async e=>{if(e.preventDefault(),!t||!i)return void m({title:"Error",description:"Please fill in all fields",variant:"destructive"});o(!0);try{let e=await d(t,i);e?(m({title:"Success",description:"Welcome to KICT Group Admin Dashboard"}),s(e)):m({title:"Error",description:"Invalid email or password",variant:"destructive"})}catch(e){console.error("Login error:",e),m({title:"Error",description:"An error occurred during login. Please try again.",variant:"destructive"})}finally{o(!1)}};return(0,a.jsxs)(A,{className:"admin-card",children:[(0,a.jsxs)(S,{className:"space-y-1",children:[(0,a.jsx)(F,{className:"text-3xl font-bold text-center bg-gradient-to-r from-purple-700 to-pink-600 bg-clip-text text-transparent",children:"로그인"}),(0,a.jsx)(T,{className:"text-center text-purple-600 font-medium",children:"관리자 대시보드에 접속하세요"})]}),(0,a.jsxs)(P,{children:[(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{htmlFor:"email",className:"text-purple-700 font-semibold",children:"이메일"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(_.A,{className:"absolute left-3 top-3 h-5 w-5 text-purple-400"}),(0,a.jsx)(y,{id:"email",type:"email",placeholder:"admin@connienail.com",value:t,onChange:e=>l(e.target.value),className:"pl-11 admin-input h-12 text-purple-700 placeholder:text-purple-300",disabled:c})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{htmlFor:"password",className:"text-purple-700 font-semibold",children:"비밀번호"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(R.A,{className:"absolute left-3 top-3 h-5 w-5 text-purple-400"}),(0,a.jsx)(y,{id:"password",type:"password",placeholder:"••••••••",value:i,onChange:e=>n(e.target.value),className:"pl-11 admin-input h-12 text-purple-700",disabled:c})]})]}),(0,a.jsx)(b,{type:"submit",className:"w-full admin-button h-12 text-lg font-semibold mt-6",disabled:c,children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.A,{className:"mr-2 h-5 w-5 animate-spin"}),"로그인 중..."]}):"로그인"})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-100",children:[(0,a.jsx)("p",{className:"text-center text-sm text-purple-600 font-medium",children:"기본 계정 정보"}),(0,a.jsx)("p",{className:"text-center text-xs text-purple-500 mt-1",children:"admin@connienail.com / admin123"})]})]})]})}var D=t(64);let L=D.bL,z=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(D.B8,{ref:s,className:(0,v.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});z.displayName=D.B8.displayName;let M=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(D.l9,{ref:s,className:(0,v.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});M.displayName=D.l9.displayName;let U=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(D.UC,{ref:s,className:(0,v.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});U.displayName=D.UC.displayName;let V=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,v.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});V.displayName="Textarea";var Z=t(8184),B=t(4093),J=t(7863),G=t(5196);let q=Z.bL;Z.YJ;let H=Z.WT,W=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(Z.l9,{ref:s,className:(0,v.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(Z.In,{asChild:!0,children:(0,a.jsx)(B.A,{className:"h-4 w-4 opacity-50"})})]})});W.displayName=Z.l9.displayName;let K=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Z.PP,{ref:s,className:(0,v.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(J.A,{className:"h-4 w-4"})})});K.displayName=Z.PP.displayName;let Q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Z.wn,{ref:s,className:(0,v.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(B.A,{className:"h-4 w-4"})})});Q.displayName=Z.wn.displayName;let Y=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(Z.ZL,{children:(0,a.jsxs)(Z.UC,{ref:s,className:(0,v.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(K,{}),(0,a.jsx)(Z.LM,{className:(0,v.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(Q,{})]})})});Y.displayName=Z.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Z.JU,{ref:s,className:(0,v.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=Z.JU.displayName;let X=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(Z.q7,{ref:s,className:(0,v.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(Z.VF,{children:(0,a.jsx)(G.A,{className:"h-4 w-4"})})}),(0,a.jsx)(Z.p4,{children:r})]})});X.displayName=Z.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(Z.wv,{ref:s,className:(0,v.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=Z.wv.displayName;var $=t(6773),ee=t(4416);let es=$.bL,et=$.l9,ea=$.ZL;$.bm;let er=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)($.hJ,{ref:s,className:(0,v.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});er.displayName=$.hJ.displayName;let el=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(ea,{children:[(0,a.jsx)(er,{}),(0,a.jsxs)($.UC,{ref:s,className:(0,v.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,a.jsxs)($.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(ee.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});el.displayName=$.UC.displayName;let ei=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,v.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};ei.displayName="DialogHeader";let en=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)($.hE,{ref:s,className:(0,v.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});en.displayName=$.hE.displayName;let ec=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)($.VY,{ref:s,className:(0,v.cn)("text-sm text-muted-foreground",t),...r})});ec.displayName=$.VY.displayName;let ed=(0,g.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eo(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,v.cn)(ed({variant:t}),s),...r})}var em=t(7924),ex=t(4616),eh=t(8749),ep=t(2657),eu=t(3717),ej=t(2525);function ef(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(""),[c,d]=(0,r.useState)("all"),[o,m]=(0,r.useState)(!1),{toast:x}=(0,E.dj)();(0,r.useEffect)(()=>{s([{id:1,title:"Modern Office Space",description:"State-of-the-art office environment",imageUrl:"https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=400",category:"office",isPublished:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:2,title:"Team Collaboration",description:"Our team working together",imageUrl:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400",category:"team",isPublished:!0,createdAt:"2024-01-14T10:00:00Z",updatedAt:"2024-01-14T10:00:00Z"},{id:3,title:"Technology Infrastructure",description:"Advanced technology setup",imageUrl:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=400",category:"technology",isPublished:!1,createdAt:"2024-01-13T10:00:00Z",updatedAt:"2024-01-13T10:00:00Z"}]),l(!1)},[]);let h=e.filter(e=>{var s;let t=e.title.toLowerCase().includes(i.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(i.toLowerCase())),a="all"===c||e.category===c;return t&&a}),p=["all",...Array.from(new Set(e.map(e=>e.category)))];return t?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading gallery items..."}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(em.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(y,{placeholder:"Search gallery items...",value:i,onChange:e=>n(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(q,{value:c,onValueChange:d,children:[(0,a.jsx)(W,{className:"w-48",children:(0,a.jsx)(H,{placeholder:"Filter by category"})}),(0,a.jsx)(Y,{children:p.map(e=>(0,a.jsx)(X,{value:e,children:"all"===e?"All Categories":e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsxs)(es,{open:o,onOpenChange:m,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(b,{children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"Add Item"]})}),(0,a.jsxs)(el,{children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(en,{children:"Add Gallery Item"}),(0,a.jsx)(ec,{children:"Upload a new item to the gallery"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"title",children:"Title"}),(0,a.jsx)(y,{id:"title",placeholder:"Enter title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"description",children:"Description"}),(0,a.jsx)(V,{id:"description",placeholder:"Enter description"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"category",children:"Category"}),(0,a.jsxs)(q,{children:[(0,a.jsx)(W,{children:(0,a.jsx)(H,{placeholder:"Select category"})}),(0,a.jsxs)(Y,{children:[(0,a.jsx)(X,{value:"office",children:"Office"}),(0,a.jsx)(X,{value:"team",children:"Team"}),(0,a.jsx)(X,{value:"technology",children:"Technology"}),(0,a.jsx)(X,{value:"events",children:"Events"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"image",children:"Image URL"}),(0,a.jsx)(y,{id:"image",placeholder:"Enter image URL"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(b,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,a.jsx)(b,{children:"Add Item"})]})]})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"aspect-video relative",children:[(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)(eo,{variant:e.isPublished?"default":"secondary",children:e.isPublished?"Published":"Draft"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(eo,{variant:"outline",children:e.category}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(b,{size:"sm",variant:"outline",onClick:()=>{var t;return t=e.id,void(s(e=>e.map(e=>e.id===t?{...e,isPublished:!e.isPublished}:e)),x({title:"Success",description:"Gallery item updated"}))},children:e.isPublished?(0,a.jsx)(eh.A,{className:"h-4 w-4"}):(0,a.jsx)(ep.A,{className:"h-4 w-4"})}),(0,a.jsx)(b,{size:"sm",variant:"outline",children:(0,a.jsx)(eu.A,{className:"h-4 w-4"})}),(0,a.jsx)(b,{size:"sm",variant:"outline",children:(0,a.jsx)(ej.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id))}),0===h.length&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No gallery items found"})]})}function eg(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[i,n]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{toast:o}=(0,E.dj)();(0,r.useEffect)(()=>{s([{id:1,title:"KICT Group Announces New Partnership",summary:"Exciting new collaboration to drive innovation",content:"We are pleased to announce a strategic partnership that will enhance our service offerings and expand our reach in the technology sector...",author:"KICT Group Communications",isPublished:!0,createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:2,title:"New Technology Platform Launch",summary:"Introducing our latest technology platform",content:"Today marks the launch of our revolutionary new technology platform, designed specifically to meet the evolving needs of enterprise clients...",author:"Product Development Team",isPublished:!1,createdAt:"2024-01-14T10:00:00Z",updatedAt:"2024-01-14T10:00:00Z"},{id:3,title:"Q4 Performance Report",summary:"Outstanding results for the fourth quarter",content:"We are thrilled to share our Q4 performance results, which exceeded all expectations and set new records for the company...",author:"Finance Team",isPublished:!0,createdAt:"2024-01-13T10:00:00Z",updatedAt:"2024-01-13T10:00:00Z"}]),l(!1)},[]);let m=e.filter(e=>{var s;return e.title.toLowerCase().includes(i.toLowerCase())||(null==(s=e.summary)?void 0:s.toLowerCase().includes(i.toLowerCase()))||e.author.toLowerCase().includes(i.toLowerCase())});return t?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:"Loading news articles..."}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(em.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(y,{placeholder:"Search articles...",value:i,onChange:e=>n(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(es,{open:c,onOpenChange:d,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(b,{children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"Add Article"]})}),(0,a.jsxs)(el,{className:"max-w-2xl",children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(en,{children:"Create News Article"}),(0,a.jsx)(ec,{children:"Write and publish a new news article"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"title",children:"Title"}),(0,a.jsx)(y,{id:"title",placeholder:"Enter article title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"summary",children:"Summary"}),(0,a.jsx)(V,{id:"summary",placeholder:"Enter brief summary",rows:2})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"content",children:"Content"}),(0,a.jsx)(V,{id:"content",placeholder:"Enter article content",rows:8})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{htmlFor:"author",children:"Author"}),(0,a.jsx)(y,{id:"author",placeholder:"Enter author name"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(b,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),(0,a.jsx)(b,{variant:"outline",children:"Save Draft"}),(0,a.jsx)(b,{children:"Publish"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[m.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,a.jsx)(eo,{variant:e.isPublished?"default":"secondary",children:e.isPublished?"Published":"Draft"})]}),e.summary&&(0,a.jsx)("p",{className:"text-muted-foreground mb-2",children:e.summary}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.content}),(0,a.jsx)("div",{className:"flex items-center justify-between mt-4",children:(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["By ",e.author," • ",new Date(e.createdAt).toLocaleDateString()]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,a.jsx)(b,{size:"sm",variant:"outline",onClick:()=>{var t;return t=e.id,void(s(e=>e.map(e=>e.id===t?{...e,isPublished:!e.isPublished}:e)),o({title:"Success",description:"Article status updated"}))},children:e.isPublished?(0,a.jsx)(eh.A,{className:"h-4 w-4"}):(0,a.jsx)(ep.A,{className:"h-4 w-4"})}),(0,a.jsx)(b,{size:"sm",variant:"outline",children:(0,a.jsx)(eu.A,{className:"h-4 w-4"})}),(0,a.jsx)(b,{size:"sm",variant:"outline",children:(0,a.jsx)(ej.A,{className:"h-4 w-4"})})]})]})},e.id)),0===m.length&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No articles found"})]})]})}var ev=t(7951),eN=t(5525),eb=t(7580),ey=t(2318);function ew(e){let{currentUser:s}=e,[t,i]=(0,r.useState)([]),[n,c]=(0,r.useState)(!0),[d,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),{toast:p}=(0,E.dj)(),[f,g]=(0,r.useState)({email:"",password:"",firstName:"",lastName:"",phone:"",role:"editor",permissions:[],isActive:!0});(0,r.useEffect)(()=>{h(s)&&v()},[s]);let v=async()=>{try{let e=await u();i(e)}catch(e){p({title:"Error",description:"Failed to load admin users",variant:"destructive"})}finally{c(!1)}},N=async()=>{try{if(!f.email||!f.password||!f.firstName||!f.lastName)return void p({title:"Error",description:"Please fill in all required fields",variant:"destructive"});await j({email:f.email,password:f.password,firstName:f.firstName,lastName:f.lastName,phone:f.phone,role:f.role,permissions:f.permissions})&&(p({title:"Success",description:"Admin user created successfully"}),o(!1),g({email:"",password:"",firstName:"",lastName:"",phone:"",role:"editor",permissions:[],isActive:!0}),v())}catch(e){p({title:"Error",description:"Failed to create admin user",variant:"destructive"})}},w=[{id:"manage_admins",label:"관리자 관리",description:"관리자 생성, 수정, 삭제"},{id:"manage_bookings",label:"예약 관리",description:"고객 예약 생성, 수정, 취소"},{id:"manage_customers",label:"고객 관리",description:"고객 정보 관리"},{id:"manage_gallery",label:"갤러리 관리",description:"이미지 업로드, 수정, 삭제"},{id:"manage_news",label:"뉴스 관리",description:"뉴스 작성, 수정, 발행"},{id:"manage_products",label:"제품 관리",description:"제품 등록, 수정, 삭제"},{id:"manage_carousel",label:"캐러셀 관리",description:"메인 슬라이드 관리"},{id:"send_communications",label:"고객 연락",description:"이메일, SMS 발송"},{id:"view_reports",label:"리포트 조회",description:"통계 및 리포트 확인"}];return h(s)?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"관리자 관리"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"시스템 관리자 계정을 생성하고 권한을 관리합니다."})]}),(0,a.jsxs)(es,{open:d,onOpenChange:o,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(b,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[(0,a.jsx)(ey.A,{className:"h-4 w-4 mr-2"}),"관리자 추가"]})}),(0,a.jsxs)(el,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(en,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"새 관리자 추가"}),(0,a.jsx)(ec,{children:"새로운 관리자를 등록하고 권한을 설정합니다."})]}),(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"firstName",children:"이름 *"}),(0,a.jsx)(y,{id:"firstName",value:f.firstName,onChange:e=>g({...f,firstName:e.target.value}),placeholder:"홍길동"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"lastName",children:"성 *"}),(0,a.jsx)(y,{id:"lastName",value:f.lastName,onChange:e=>g({...f,lastName:e.target.value}),placeholder:"홍"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"email",children:"이메일 *"}),(0,a.jsx)(y,{id:"email",type:"email",value:f.email,onChange:e=>g({...f,email:e.target.value}),placeholder:"admin@connienail.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"password",children:"비밀번호 *"}),(0,a.jsx)(y,{id:"password",type:"password",value:f.password,onChange:e=>g({...f,password:e.target.value}),placeholder:"••••••••"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"phone",children:"전화번호"}),(0,a.jsx)(y,{id:"phone",value:f.phone,onChange:e=>g({...f,phone:e.target.value}),placeholder:"010-1234-5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"role",children:"역할"}),(0,a.jsxs)(q,{value:f.role,onValueChange:e=>g({...f,role:e}),children:[(0,a.jsx)(W,{children:(0,a.jsx)(H,{})}),(0,a.jsxs)(Y,{children:[(0,a.jsx)(X,{value:"viewer",children:"뷰어 - 조회만 가능"}),(0,a.jsx)(X,{value:"editor",children:"에디터 - 기본 편집 가능"}),(0,a.jsx)(X,{value:"admin",children:"관리자 - 대부분 관리 가능"}),(null==s?void 0:s.role)==="super_admin"&&(0,a.jsx)(X,{value:"super_admin",children:"슈퍼 관리자 - 모든 권한"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{children:"세부 권한 설정"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3 max-h-40 overflow-y-auto border rounded p-3",children:w.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("input",{type:"checkbox",id:e.id,checked:f.permissions.includes(e.id),onChange:s=>{s.target.checked?g({...f,permissions:[...f.permissions,e.id]}):g({...f,permissions:f.permissions.filter(s=>s!==e.id)})},className:"mt-1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:e.id,className:"text-sm font-medium cursor-pointer",children:e.label}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)(b,{variant:"outline",onClick:()=>o(!1),children:"취소"}),(0,a.jsx)(b,{onClick:N,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"관리자 생성"})]})]})]})]})]}),(0,a.jsx)("div",{className:"grid gap-4",children:n?(0,a.jsx)(A,{children:(0,a.jsxs)(P,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"관리자 목록을 불러오는 중..."})]})}):t.map(e=>{var s;return(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsx)(A,{className:"hover:shadow-lg transition-shadow duration-200 border-l-4 border-l-gradient-to-b from-purple-600 to-pink-600",children:(0,a.jsxs)(P,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold text-lg",children:(null==(s=e.firstName)?void 0:s[0])||e.email[0].toUpperCase()})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:[e.firstName," ",e.lastName]}),(0,a.jsx)("p",{className:"text-gray-600",children:e.email}),e.phone&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.phone})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(eo,{className:(e=>{switch(e){case"super_admin":return"bg-gradient-to-r from-yellow-400 to-orange-500 text-white";case"admin":return"bg-gradient-to-r from-purple-500 to-pink-500 text-white";case"editor":return"bg-gradient-to-r from-blue-500 to-cyan-500 text-white";default:return"bg-gray-100 text-gray-700"}})(e.role),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(e=>{switch(e){case"super_admin":return(0,a.jsx)(ev.A,{className:"h-4 w-4 text-yellow-500"});case"admin":return(0,a.jsx)(eN.A,{className:"h-4 w-4 text-purple-500"});case"editor":return(0,a.jsx)(eu.A,{className:"h-4 w-4 text-blue-500"});case"viewer":return(0,a.jsx)(ep.A,{className:"h-4 w-4 text-gray-500"});default:return(0,a.jsx)(eb.A,{className:"h-4 w-4"})}})(e.role),(0,a.jsx)("span",{children:e.role})]})}),!e.isActive&&(0,a.jsx)(eo,{variant:"secondary",className:"bg-red-100 text-red-700",children:"비활성"}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)(b,{variant:"outline",size:"sm",onClick:()=>{x(e),g({email:e.email,firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",role:e.role,permissions:e.permissions,isActive:e.isActive}),o(!0)},children:(0,a.jsx)(eu.A,{className:"h-4 w-4"})})})]})]}),e.permissions.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"권한:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.permissions.map(e=>{let s=w.find(s=>s.id===e);return(0,a.jsx)(eo,{variant:"secondary",className:"text-xs",children:(null==s?void 0:s.label)||e},e)})})]})]})})},e.id)})})]}):(0,a.jsx)(A,{children:(0,a.jsxs)(P,{className:"p-6 text-center",children:[(0,a.jsx)(eN.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"관리자 관리 권한이 없습니다."})]})})}var ek=t(9074),eC=t(3408),eA=t(9420),eS=t(4186),eF=t(1007),eT=t(646),eP=t(4861);function eE(e){let{currentUser:s}=e,[t,i]=(0,r.useState)([]),[n,c]=(0,r.useState)([]),[d,o]=(0,r.useState)([]),[m,x]=(0,r.useState)(!0),[h,u]=(0,r.useState)(!1),[j,f]=(0,r.useState)(null),[g,v]=(0,r.useState)(new Date().toISOString().split("T")[0]),{toast:N}=(0,E.dj)(),[w,k]=(0,r.useState)({customerId:"",serviceId:"",technicianName:"",appointmentDate:new Date().toISOString().split("T")[0],appointmentTime:"",notes:""});(0,r.useEffect)(()=>{p(s)&&(S(),F(),T())},[s,g]);let S=async()=>{try{let e=await fetch("/api/bookings?date=".concat(g));if(e.ok){let s=await e.json();i(s)}}catch(e){N({title:"Error",description:"Failed to load bookings",variant:"destructive"})}finally{x(!1)}},F=async()=>{try{let e=await fetch("/api/customers");if(e.ok){let s=await e.json();c(s)}}catch(e){console.error("Failed to load customers:",e)}},T=async()=>{try{let e=await fetch("/api/services");if(e.ok){let s=await e.json();o(s)}}catch(e){console.error("Failed to load services:",e)}},_=async()=>{try{if(!w.customerId||!w.serviceId||!w.appointmentTime)return void N({title:"Error",description:"고객, 서비스, 시간을 모두 선택해주세요.",variant:"destructive"});if((await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok)N({title:"Success",description:"예약이 성공적으로 생성되었습니다."}),u(!1),O(),S();else throw Error("Failed to create booking")}catch(e){N({title:"Error",description:"예약 생성에 실패했습니다.",variant:"destructive"})}},R=async(e,s)=>{try{if((await fetch("/api/bookings/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})})).ok)N({title:"Success",description:"예약 상태가 업데이트되었습니다."}),S();else throw Error("Failed to update booking status")}catch(e){N({title:"Error",description:"예약 상태 업데이트에 실패했습니다.",variant:"destructive"})}},O=()=>{k({customerId:"",serviceId:"",technicianName:"",appointmentDate:g,appointmentTime:"",notes:""}),f(null)};return p(s)?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"예약 관리"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"고객 예약을 생성하고 관리합니다."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(C,{htmlFor:"date-picker",children:"날짜:"}),(0,a.jsx)(y,{id:"date-picker",type:"date",value:g,onChange:e=>v(e.target.value),className:"w-40"})]}),(0,a.jsxs)(es,{open:h,onOpenChange:u,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(b,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"새 예약"]})}),(0,a.jsxs)(el,{className:"max-w-lg",children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(en,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"새 예약 생성"}),(0,a.jsx)(ec,{children:"고객의 새로운 예약을 생성합니다. 입력자 정보가 자동으로 저장됩니다."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"customer",children:"고객 선택 *"}),(0,a.jsxs)(q,{value:w.customerId,onValueChange:e=>k({...w,customerId:e}),children:[(0,a.jsx)(W,{children:(0,a.jsx)(H,{placeholder:"고객을 선택해주세요"})}),(0,a.jsx)(Y,{children:n.map(e=>(0,a.jsxs)(X,{value:e.id,children:[e.firstName," ",e.lastName," - ",e.phone]},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"service",children:"서비스 선택 *"}),(0,a.jsxs)(q,{value:w.serviceId,onValueChange:e=>k({...w,serviceId:e}),children:[(0,a.jsx)(W,{children:(0,a.jsx)(H,{placeholder:"서비스를 선택해주세요"})}),(0,a.jsx)(Y,{children:d.map(e=>(0,a.jsxs)(X,{value:e.id,children:[e.name," - ",e.price,"원 (",e.duration,"분)"]},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"technician",children:"담당 네일리스트"}),(0,a.jsx)(y,{id:"technician",value:w.technicianName,onChange:e=>k({...w,technicianName:e.target.value}),placeholder:"담당자 이름"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"date",children:"예약 날짜 *"}),(0,a.jsx)(y,{id:"date",type:"date",value:w.appointmentDate,onChange:e=>k({...w,appointmentDate:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"time",children:"예약 시간 *"}),(0,a.jsx)(y,{id:"time",type:"time",value:w.appointmentTime,onChange:e=>k({...w,appointmentTime:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"notes",children:"메모"}),(0,a.jsx)(V,{id:"notes",value:w.notes,onChange:e=>k({...w,notes:e.target.value}),placeholder:"예약 관련 메모사항",rows:3})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)(b,{variant:"outline",onClick:()=>{u(!1),O()},children:"취소"}),(0,a.jsx)(b,{onClick:_,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"예약 생성"})]})]})]})]})]})]}),(0,a.jsx)("div",{className:"grid gap-4",children:m?(0,a.jsx)(A,{children:(0,a.jsxs)(P,{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"예약 목록을 불러오는 중..."})]})}):0===t.length?(0,a.jsx)(A,{children:(0,a.jsxs)(P,{className:"p-6 text-center",children:[(0,a.jsx)(ek.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"선택한 날짜에 예약이 없습니다."})]})}):t.map(e=>{var s,t,r,i,n;return(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsx)(A,{className:"hover:shadow-lg transition-shadow duration-200",children:(0,a.jsxs)(P,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:(0,a.jsx)(eC.A,{className:"text-white h-6 w-6"})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:[null==(s=e.customer)?void 0:s.firstName," ",null==(t=e.customer)?void 0:t.lastName]}),(0,a.jsx)(eo,{className:(e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-emerald-100 text-emerald-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:(e=>{switch(e){case"scheduled":return"예약됨";case"confirmed":return"확인됨";case"in_progress":return"진행중";case"completed":return"완료";case"cancelled":return"취소됨";case"no_show":return"노쇼";default:return e}})(e.status)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(eA.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:null==(r=e.customer)?void 0:r.phone})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(eS.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.appointmentTime})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(eF.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.technicianName||"담당자 미지정"})]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[null==(i=e.service)?void 0:i.name," - ",null==(n=e.service)?void 0:n.duration,"분"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:["scheduled"===e.status&&(0,a.jsx)(b,{variant:"outline",size:"sm",onClick:()=>R(e.id,"confirmed"),className:"text-green-600 hover:text-green-700",children:(0,a.jsx)(eT.A,{className:"h-4 w-4"})}),"confirmed"===e.status&&(0,a.jsx)(b,{variant:"outline",size:"sm",onClick:()=>R(e.id,"completed"),className:"text-blue-600 hover:text-blue-700",children:"완료"}),(0,a.jsx)(b,{variant:"outline",size:"sm",onClick:()=>R(e.id,"cancelled"),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(eP.A,{className:"h-4 w-4"})})]})]}),e.notes&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.notes})})]})})},e.id)})})]}):(0,a.jsx)(A,{children:(0,a.jsxs)(P,{className:"p-6 text-center",children:[(0,a.jsx)(ek.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"예약 관리 권한이 없습니다."})]})})}var e_=t(2486),eR=t(1366);function eO(e){let{currentUser:s}=e,[t,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[o,m]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[u,j]=(0,r.useState)(""),[f,g]=(0,r.useState)(!0),[v,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),{toast:T}=(0,E.dj)(),[R,O]=(0,r.useState)({phone:"",firstName:"",lastName:"",email:"",dateOfBirth:"",address:"",notes:"",preferredTechnician:""}),[I,D]=(0,r.useState)({type:"email",subject:"",content:""});(0,r.useEffect)(()=>{Z()},[]);let Z=async()=>{try{let e=await fetch("/api/customers");if(e.ok){let s=await e.json();l(s)}}catch(e){T({title:"Error",description:"고객 목록을 불러오는데 실패했습니다.",variant:"destructive"})}finally{g(!1)}},B=async e=>{try{n(e);let s=await fetch("/api/customers/".concat(e.id,"/bookings"));if(s.ok){let e=await s.json();d(e)}let t=await fetch("/api/customers/".concat(e.id,"/treatments"));if(t.ok){let e=await t.json();m(e)}let a=await fetch("/api/customers/".concat(e.id,"/communications"));if(a.ok){let e=await a.json();p(e)}}catch(e){T({title:"Error",description:"고객 정보를 불러오는데 실패했습니다.",variant:"destructive"})}},J=async()=>{try{if(!R.phone||!R.firstName||!R.lastName)return void T({title:"Error",description:"전화번호, 이름, 성은 필수 입력 항목입니다.",variant:"destructive"});let e=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(e.ok)T({title:"Success",description:"고객이 성공적으로 등록되었습니다."}),N(!1),q(),Z();else{let s=await e.json();throw Error(s.error||"Failed to create customer")}}catch(e){T({title:"Error",description:e instanceof Error?e.message:"고객 등록에 실패했습니다.",variant:"destructive"})}},G=async()=>{if(i)try{if(!I.content)return void T({title:"Error",description:"메시지 내용을 입력해주세요.",variant:"destructive"});if((await fetch("/api/communications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:i.id,type:I.type,subject:I.subject,content:I.content})})).ok)T({title:"Success",description:"".concat("email"===I.type?"이메일":"SMS","이 성공적으로 발송되었습니다.")}),k(!1),D({type:"email",subject:"",content:""}),B(i);else throw Error("Failed to send communication")}catch(e){T({title:"Error",description:"메시지 발송에 실패했습니다.",variant:"destructive"})}},q=()=>{O({phone:"",firstName:"",lastName:"",email:"",dateOfBirth:"",address:"",notes:"",preferredTechnician:""})},H=t.filter(e=>{var s,t,a;return e.phone.includes(u)||(null==(s=e.firstName)?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null==(t=e.lastName)?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==(a=e.email)?void 0:a.toLowerCase().includes(u.toLowerCase()))});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"고객 CRM"}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:"고객 정보를 관리하고 예약 이력을 확인합니다."})]}),(0,a.jsxs)(es,{open:v,onOpenChange:N,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(b,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"고객 등록"]})}),(0,a.jsxs)(el,{className:"max-w-2xl",children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(en,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"새 고객 등록"}),(0,a.jsx)(ec,{children:"새로운 고객 정보를 등록합니다. 전화번호는 고객의 고유 식별자로 사용됩니다."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"firstName",children:"이름 *"}),(0,a.jsx)(y,{id:"firstName",value:R.firstName,onChange:e=>O({...R,firstName:e.target.value}),placeholder:"길동"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"lastName",children:"성 *"}),(0,a.jsx)(y,{id:"lastName",value:R.lastName,onChange:e=>O({...R,lastName:e.target.value}),placeholder:"홍"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"phone",children:"전화번호 *"}),(0,a.jsx)(y,{id:"phone",value:R.phone,onChange:e=>O({...R,phone:e.target.value}),placeholder:"010-1234-5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"email",children:"이메일"}),(0,a.jsx)(y,{id:"email",type:"email",value:R.email,onChange:e=>O({...R,email:e.target.value}),placeholder:"customer@example.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"dateOfBirth",children:"생년월일"}),(0,a.jsx)(y,{id:"dateOfBirth",type:"date",value:R.dateOfBirth,onChange:e=>O({...R,dateOfBirth:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"address",children:"주소"}),(0,a.jsx)(y,{id:"address",value:R.address,onChange:e=>O({...R,address:e.target.value}),placeholder:"서울시 강남구..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"preferredTechnician",children:"선호 네일리스트"}),(0,a.jsx)(y,{id:"preferredTechnician",value:R.preferredTechnician,onChange:e=>O({...R,preferredTechnician:e.target.value}),placeholder:"담당자 이름"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"notes",children:"메모"}),(0,a.jsx)(V,{id:"notes",value:R.notes,onChange:e=>O({...R,notes:e.target.value}),placeholder:"고객 관련 메모사항",rows:3})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsx)(b,{variant:"outline",onClick:()=>{N(!1),q()},children:"취소"}),(0,a.jsx)(b,{onClick:J,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"고객 등록"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)(A,{children:[(0,a.jsxs)(S,{children:[(0,a.jsxs)(F,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eF.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"고객 목록"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(em.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(y,{placeholder:"전화번호, 이름으로 검색...",value:u,onChange:e=>j(e.target.value),className:"pl-10"})]})]}),(0,a.jsx)(P,{className:"p-0",children:(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:f?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})}):0===H.length?(0,a.jsx)("div",{className:"p-6 text-center text-gray-500",children:"고객이 없습니다."}):H.map(e=>(0,a.jsxs)("div",{onClick:()=>B(e),className:"p-4 border-b hover:bg-gray-50 cursor-pointer transition-colors ".concat((null==i?void 0:i.id)===e.id?"bg-purple-50 border-purple-200":""),children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[(0,a.jsx)(eA.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.phone})]}),e.email&&(0,a.jsxs)("div",{className:"text-sm text-gray-500 flex items-center space-x-2 mt-1",children:[(0,a.jsx)(_.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:e.email})]})]},e.id))})})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:i?(0,a.jsxs)(L,{defaultValue:"info",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(z,{className:"grid w-full grid-cols-4 max-w-md",children:[(0,a.jsx)(M,{value:"info",children:"기본정보"}),(0,a.jsx)(M,{value:"bookings",children:"예약이력"}),(0,a.jsx)(M,{value:"treatments",children:"시술이력"}),(0,a.jsx)(M,{value:"communications",children:"연락내역"})]}),x(s,"send_communications")&&(0,a.jsxs)(es,{open:w,onOpenChange:k,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(b,{variant:"outline",className:"flex items-center space-x-2",children:[(0,a.jsx)(e_.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"연락하기"})]})}),(0,a.jsxs)(el,{children:[(0,a.jsxs)(ei,{children:[(0,a.jsx)(en,{children:"고객 연락하기"}),(0,a.jsxs)(ec,{children:[i.firstName," ",i.lastName,"님께 메시지를 발송합니다."]})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{children:"연락 방법"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",value:"email",checked:"email"===I.type,onChange:e=>D({...I,type:e.target.value})}),(0,a.jsx)("span",{children:"이메일"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"radio",value:"sms",checked:"sms"===I.type,onChange:e=>D({...I,type:e.target.value})}),(0,a.jsx)("span",{children:"SMS"})]})]})]}),"email"===I.type&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"subject",children:"제목"}),(0,a.jsx)(y,{id:"subject",value:I.subject,onChange:e=>D({...I,subject:e.target.value}),placeholder:"이메일 제목"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"content",children:"내용"}),(0,a.jsx)(V,{id:"content",value:I.content,onChange:e=>D({...I,content:e.target.value}),placeholder:"메시지 내용을 입력하세요",rows:4})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)(b,{variant:"outline",onClick:()=>k(!1),children:"취소"}),(0,a.jsx)(b,{onClick:G,children:"발송"})]})]})]})]})]}),(0,a.jsx)(U,{value:"info",className:"space-y-4",children:(0,a.jsxs)(A,{children:[(0,a.jsx)(S,{children:(0,a.jsxs)(F,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eF.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"고객 기본정보"})]})}),(0,a.jsxs)(P,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"이름"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[i.firstName," ",i.lastName]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"전화번호"}),(0,a.jsx)("p",{className:"text-lg",children:i.phone})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"이메일"}),(0,a.jsx)("p",{className:"text-lg",children:i.email||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"생년월일"}),(0,a.jsx)("p",{className:"text-lg",children:i.dateOfBirth||"-"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"주소"}),(0,a.jsx)("p",{className:"text-lg",children:i.address||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"선호 네일리스트"}),(0,a.jsx)("p",{className:"text-lg",children:i.preferredTechnician||"-"})]}),i.notes&&(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{className:"text-sm font-medium text-gray-500",children:"메모"}),(0,a.jsx)("p",{className:"text-lg bg-gray-50 p-3 rounded-md",children:i.notes})]})]})]})}),(0,a.jsx)(U,{value:"bookings",className:"space-y-4",children:(0,a.jsxs)(A,{children:[(0,a.jsx)(S,{children:(0,a.jsxs)(F,{className:"flex items-center space-x-2",children:[(0,a.jsx)(ek.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"예약 이력"})]})}),(0,a.jsx)(P,{children:0===c.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"예약 이력이 없습니다."}):(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>{var s;return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:null==(s=e.service)?void 0:s.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.appointmentDate," ",e.appointmentTime]}),e.technicianName&&(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["담당: ",e.technicianName]})]}),(0,a.jsx)(eo,{className:"".concat("completed"===e.status?"bg-green-100 text-green-800":"cancelled"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.status})]}),e.notes&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2 bg-gray-50 p-2 rounded",children:e.notes})]},e.id)})})})]})}),(0,a.jsx)(U,{value:"treatments",className:"space-y-4",children:(0,a.jsxs)(A,{children:[(0,a.jsx)(S,{children:(0,a.jsxs)(F,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eC.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"시술 이력"})]})}),(0,a.jsx)(P,{children:0===o.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"시술 이력이 없습니다."}):(0,a.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.serviceName}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.treatmentDate}),e.technicianName&&(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["담당: ",e.technicianName]}),e.price&&(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.price,"원"]})]})}),e.notes&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2 bg-gray-50 p-2 rounded",children:e.notes}),e.photos&&e.photos.length>0&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["\uD83D\uDCF7 ",e.photos.length,"장의 사진"]})]},e.id))})})]})}),(0,a.jsx)(U,{value:"communications",className:"space-y-4",children:(0,a.jsxs)(A,{children:[(0,a.jsx)(S,{children:(0,a.jsxs)(F,{className:"flex items-center space-x-2",children:[(0,a.jsx)(eR.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"연락 내역"})]})}),(0,a.jsx)(P,{children:0===h.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"연락 내역이 없습니다."}):(0,a.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(eo,{variant:"outline",children:(e=>{switch(e){case"email":return"이메일";case"sms":return"SMS";case"call":return"전화";case"note":return"메모";default:return e}})(e.communicationType)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.sentAt).toLocaleDateString()})]}),(0,a.jsx)(eo,{className:"".concat("sent"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.status})]}),e.subject&&(0,a.jsx)("p",{className:"font-medium mt-2",children:e.subject}),e.content&&(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2 bg-gray-50 p-2 rounded",children:e.content})]},e.id))})})]})})]}):(0,a.jsx)(A,{children:(0,a.jsxs)(P,{className:"p-12 text-center",children:[(0,a.jsx)(eF.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"고객을 선택해주세요"}),(0,a.jsx)("p",{className:"text-gray-500",children:"왼쪽 목록에서 고객을 선택하면 상세 정보를 확인할 수 있습니다."})]})})})]})]})}var eI=t(3311),eD=t(1788),eL=t(6516),ez=t(4355),eM=t(136);function eU(){let[e,s]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),p=(0,r.useRef)(null),u=(0,r.useRef)(null),j=(0,r.useRef)(null),{toast:f}=(0,E.dj)(),[g,v]=(0,r.useState)([]);(0,r.useEffect)(()=>{fetch("/api/nail-designs").then(e=>e.json()).then(e=>{e.success&&v(e.designs)}).catch(e=>{console.error("Failed to fetch nail designs:",e),f({title:"디자인 로드 실패",description:"네일 디자인을 불러올 수 없습니다.",variant:"destructive"})})},[f]);let N=(0,r.useCallback)(async()=>{try{m(!0);let{Hands:e}=await t.e(523).then(t.t.bind(t,9523,23)),{Camera:s}=await t.e(699).then(t.t.bind(t,9699,23));if(!p.current)return;let a=new e({locateFile:e=>"https://cdn.jsdelivr.net/npm/@mediapipe/hands/".concat(e)});a.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),a.onResults(y),j.current=a;let r=new s(p.current,{onFrame:async()=>{p.current&&j.current&&await j.current.send({image:p.current})},width:640,height:480});await r.start(),m(!1)}catch(e){console.error("Failed to initialize MediaPipe:",e),m(!1),f({title:"AR 초기화 실패",description:"카메라 및 AR 기능을 초기화할 수 없습니다.",variant:"destructive"})}},[f]),y=(0,r.useCallback)(e=>{if(!u.current)return;let s=u.current,t=s.getContext("2d");if(t)if(s.width=640,s.height=480,t.clearRect(0,0,s.width,s.height),p.current&&t.drawImage(p.current,0,0,s.width,s.height),e.multiHandLandmarks&&i)for(let s of(d(!0),e.multiHandLandmarks))w(t,s,i);else d(!1)},[i]),w=(e,s,t)=>{[4,8,12,16,20].forEach(a=>{let r=s[a];if(r){let s=640*r.x,a=480*r.y,l=e.createRadialGradient(s,a,5,s,a,15);t.colors.forEach((e,s)=>{l.addColorStop(s/(t.colors.length-1),e)}),e.fillStyle=l,e.beginPath(),e.ellipse(s,a,12,16,0,0,2*Math.PI),e.fill(),"chrome-mirror"===t.pattern?(e.fillStyle="rgba(255, 255, 255, 0.6)",e.beginPath(),e.ellipse(s-3,a-4,4,6,-.3,0,2*Math.PI),e.fill()):"holographic"===t.pattern&&(e.fillStyle="rgba(255, 255, 255, 0.8)",e.beginPath(),e.ellipse(s,a,8,10,0,0,2*Math.PI),e.fill()),Math.random()>.7&&(e.fillStyle="white",e.beginPath(),e.arc(s+(Math.random()-.5)*20,a+(Math.random()-.5)*20,1,0,2*Math.PI),e.fill())}})},k=async()=>{try{m(!0);let e=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});p.current&&(p.current.srcObject=e,h(e),await N(),s(!0))}catch(e){console.error("Camera access failed:",e),m(!1),f({title:"카메라 접근 실패",description:"카메라 권한을 허용해주세요.",variant:"destructive"})}},C=async()=>{if(u.current)try{u.current.toBlob(async e=>{if(e&&navigator.share){let s=new File([e],"connienail-ar-tryon.png",{type:"image/png"});await navigator.share({title:"ConnieNail AR 시착",text:"".concat(null==i?void 0:i.name," 네일 디자인을 AR로 체험했어요!"),files:[s]})}})}catch(e){console.error("Share failed:",e),f({title:"공유 실패",description:"사진 공유 기능을 사용할 수 없습니다.",variant:"destructive"})}};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(A,{className:"admin-card",children:[(0,a.jsx)(S,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:(0,a.jsx)(eI.A,{className:"h-5 w-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(F,{className:"text-xl text-purple-700",children:"AR 가상 네일 체험"}),(0,a.jsx)("p",{className:"text-sm text-purple-600",children:"실시간으로 네일 디자인을 미리 체험해보세요"})]})]}),(0,a.jsx)(eo,{variant:"secondary",className:"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700",children:"2024 트렌드"})]})}),(0,a.jsxs)(P,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-purple-700",children:"디자인 선택"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map(e=>(0,a.jsxs)(l.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-3 rounded-xl border-2 cursor-pointer transition-all ".concat((null==i?void 0:i.id)===e.id?"border-purple-400 bg-purple-50":"border-purple-200 hover:border-purple-300"),onClick:()=>n(e),children:[(0,a.jsxs)("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg mb-2 flex items-center justify-center relative overflow-hidden",children:[(0,a.jsx)("div",{className:"flex space-x-1",children:e.colors.map((e,s)=>(0,a.jsx)("div",{className:"w-3 h-4 rounded-full border shadow-sm",style:{backgroundColor:e}},s))}),"chrome-mirror"===e.pattern&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-transparent to-transparent"}),"holographic"===e.pattern&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-200/40 via-purple-200/40 to-blue-200/40"})]}),(0,a.jsx)("h4",{className:"font-medium text-sm text-purple-700",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-purple-500",children:e.category}),(0,a.jsxs)("p",{className:"text-xs font-medium text-purple-600",children:["₩",e.price.toLocaleString()]})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-purple-700",children:"AR 카메라"}),(0,a.jsx)("div",{className:"flex space-x-2",children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b,{onClick:()=>{if(!u.current)return;let e=u.current.toDataURL("image/png"),s=document.createElement("a");s.download="connienail-ar-".concat(null==i?void 0:i.name,"-").concat(Date.now(),".png"),s.href=e,s.click(),f({title:"사진 저장 완료",description:"AR 네일 시착 사진이 저장되었습니다."})},size:"sm",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",disabled:!c,children:[(0,a.jsx)(eD.A,{className:"h-4 w-4 mr-2"}),"저장"]}),(0,a.jsxs)(b,{onClick:C,size:"sm",variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50",disabled:!c,children:[(0,a.jsx)(eL.A,{className:"h-4 w-4 mr-2"}),"공유"]})]})})]}),(0,a.jsx)("div",{className:"relative bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl overflow-hidden",children:e?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("video",{ref:p,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full aspect-video object-cover",style:{display:"none"}}),(0,a.jsx)("canvas",{ref:u,className:"w-full aspect-video object-cover"}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 space-y-2",children:[(0,a.jsx)(eo,{variant:c?"default":"secondary",className:c?"bg-green-500":"bg-yellow-500",children:c?"손 인식됨":"손을 카메라에 보여주세요"}),i&&(0,a.jsx)(eo,{className:"bg-purple-500",children:i.name})]}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:(0,a.jsxs)(b,{onClick:()=>{x&&(x.getTracks().forEach(e=>e.stop()),h(null)),s(!1),d(!1)},size:"sm",variant:"destructive",children:[(0,a.jsx)(eM.A,{className:"h-4 w-4 mr-2"}),"종료"]})})]}):(0,a.jsxs)("div",{className:"aspect-video flex flex-col items-center justify-center p-8 text-center",children:[(0,a.jsx)(ez.A,{className:"h-16 w-16 text-purple-400 mb-4"}),(0,a.jsx)("h4",{className:"text-lg font-medium text-purple-700 mb-2",children:"AR 체험 시작하기"}),(0,a.jsx)("p",{className:"text-purple-600 mb-6",children:i?"".concat(i.name," 디자인을 손에 직접 체험해보세요"):"먼저 네일 디자인을 선택해주세요"}),(0,a.jsx)(b,{onClick:k,disabled:!i||o,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"AR 초기화 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ez.A,{className:"h-4 w-4 mr-2"}),"AR 시작"]})})]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-purple-700 mb-2",children:"사용 방법"}),(0,a.jsxs)("ul",{className:"text-sm text-purple-600 space-y-1",children:[(0,a.jsx)("li",{children:"• 원하는 네일 디자인을 선택하세요"}),(0,a.jsx)("li",{children:"• AR 시작 버튼을 클릭하여 카메라를 활성화하세요"}),(0,a.jsx)("li",{children:"• 손을 카메라 앞에 자연스럽게 펼쳐주세요"}),(0,a.jsx)("li",{children:"• 손톱에 실시간으로 적용되는 디자인을 확인하세요"}),(0,a.jsx)("li",{children:"• 마음에 드는 모습을 사진으로 저장하거나 공유하세요"})]})]})]})]})})}var eV=t(3127),eZ=t(3109);function eB(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),{toast:m}=(0,E.dj)(),[x,h]=(0,r.useState)({name:"",category:"",colors:["#FFFFFF"],pattern:"",price:0,duration:60,description:""});(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{i(!0);let e=await fetch("/api/nail-designs"),t=await e.json();t.success&&s(t.designs)}catch(e){console.error("Failed to fetch designs:",e),m({title:"로드 실패",description:"네일 디자인을 불러올 수 없습니다.",variant:"destructive"})}finally{i(!1)}},u=async()=>{try{let t=await fetch("/api/nail-designs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),a=await t.json();a.success&&(s([...e,a.design]),c(!1),f(),m({title:"디자인 추가됨",description:"새로운 네일 디자인이 추가되었습니다."}))}catch(e){console.error("Failed to add design:",e),m({title:"추가 실패",description:"디자인 추가에 실패했습니다.",variant:"destructive"})}},j=async t=>{s(e.map(e=>e.id===t?{...e,trending:!e.trending}:e)),m({title:"트렌딩 업데이트",description:"트렌딩 상태가 변경되었습니다."})},f=()=>{h({name:"",category:"",colors:["#FFFFFF"],pattern:"",price:0,duration:60,description:""}),o(null)};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(A,{className:"admin-card",children:[(0,a.jsx)(S,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:(0,a.jsx)(eV.A,{className:"h-5 w-5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(F,{className:"text-xl text-purple-700",children:"네일 디자인 관리"}),(0,a.jsx)("p",{className:"text-sm text-purple-600",children:"2024 트렌딩 디자인 및 커스텀 아트"})]})]}),(0,a.jsxs)(b,{onClick:()=>c(!n),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"새 디자인"]})]})}),(0,a.jsxs)(P,{className:"space-y-6",children:[n&&(0,a.jsxs)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-purple-700",children:d?"디자인 수정":"새 디자인 추가"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"name",children:"디자인 이름"}),(0,a.jsx)(y,{id:"name",value:x.name,onChange:e=>h({...x,name:e.target.value}),placeholder:"예: Chrome Glass",className:"border-purple-200 focus:border-purple-400"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"category",children:"카테고리"}),(0,a.jsxs)(q,{value:x.category,onValueChange:e=>h({...x,category:e}),children:[(0,a.jsx)(W,{className:"border-purple-200 focus:border-purple-400",children:(0,a.jsx)(H,{placeholder:"카테고리 선택"})}),(0,a.jsxs)(Y,{children:[(0,a.jsx)(X,{value:"Premium",children:"Premium"}),(0,a.jsx)(X,{value:"Luxury",children:"Luxury"}),(0,a.jsx)(X,{value:"Classic",children:"Classic"}),(0,a.jsx)(X,{value:"Party",children:"Party"}),(0,a.jsx)(X,{value:"Seasonal",children:"Seasonal"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"price",children:"가격 (원)"}),(0,a.jsx)(y,{id:"price",type:"number",value:x.price,onChange:e=>h({...x,price:parseInt(e.target.value)||0}),placeholder:"70000",className:"border-purple-200 focus:border-purple-400"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"duration",children:"소요시간 (분)"}),(0,a.jsx)(y,{id:"duration",type:"number",value:x.duration,onChange:e=>h({...x,duration:parseInt(e.target.value)||60}),placeholder:"60",className:"border-purple-200 focus:border-purple-400"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{children:"컬러 팔레트"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center space-x-2",children:[x.colors.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,a.jsx)("input",{type:"color",value:e,onChange:e=>((e,s)=>{let t=[...x.colors];t[e]=s,h({...x,colors:t})})(s,e.target.value),className:"w-8 h-8 rounded border-2 border-purple-200 cursor-pointer"}),x.colors.length>1&&(0,a.jsx)(b,{size:"sm",variant:"outline",onClick:()=>{x.colors.length>1&&h({...x,colors:x.colors.filter((e,t)=>t!==s)})},className:"h-6 w-6 p-0",children:"\xd7"})]},s)),x.colors.length<5&&(0,a.jsx)(b,{size:"sm",variant:"outline",onClick:()=>{x.colors.length<5&&h({...x,colors:[...x.colors,"#FFFFFF"]})},className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:"+ 색상"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{htmlFor:"description",children:"설명"}),(0,a.jsx)(V,{id:"description",value:x.description,onChange:e=>h({...x,description:e.target.value}),placeholder:"디자인에 대한 설명을 입력하세요...",className:"border-purple-200 focus:border-purple-400",rows:3})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(b,{onClick:u,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:d?"수정 완료":"디자인 추가"}),(0,a.jsx)(b,{variant:"outline",onClick:()=>{c(!1),f()},className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:"취소"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)(l.P.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl border-2 border-purple-100 shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[(0,a.jsxs)("div",{className:"h-32 bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center relative",children:[(0,a.jsx)("div",{className:"flex space-x-2",children:e.colors.map((e,s)=>(0,a.jsx)("div",{className:"w-4 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:e}},s))}),e.trending&&(0,a.jsxs)(eo,{className:"absolute top-2 right-2 bg-gradient-to-r from-orange-400 to-red-500",children:[(0,a.jsx)(eZ.A,{className:"h-3 w-3 mr-1"}),"트렌딩"]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold text-purple-700",children:e.name}),(0,a.jsx)(eo,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:e.category})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-purple-600",children:["₩",e.price.toLocaleString()]}),(0,a.jsxs)("span",{className:"text-gray-500",children:[e.duration,"분"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,a.jsxs)(b,{size:"sm",variant:"outline",onClick:()=>j(e.id),className:"flex-1 ".concat(e.trending?"border-orange-300 text-orange-700 bg-orange-50":"border-purple-300 text-purple-700 hover:bg-purple-50"),children:[(0,a.jsx)(eZ.A,{className:"h-3 w-3 mr-1"}),e.trending?"트렌딩 해제":"트렌딩 설정"]}),(0,a.jsx)(b,{size:"sm",variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50",children:(0,a.jsx)(eu.A,{className:"h-3 w-3"})})]})]})]},e.id))}),0===e.length&&!t&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(eI.A,{className:"h-16 w-16 text-purple-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-purple-700 mb-2",children:"아직 디자인이 없습니다"}),(0,a.jsx)("p",{className:"text-purple-600 mb-4",children:"첫 번째 네일 디자인을 추가해보세요"}),(0,a.jsxs)(b,{onClick:()=>c(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2"}),"디자인 추가하기"]})]})]})]})})}var eJ=t(5670),eG=t(7213),eq=t(5347),eH=t(7108);function eW(e){let{currentUser:s}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(A,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,a.jsxs)(S,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(F,{className:"text-sm font-medium text-purple-700",children:"오늘 예약"}),(0,a.jsx)(ek.A,{className:"h-5 w-5 text-purple-500"})]}),(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"15"}),(0,a.jsx)("p",{className:"text-xs text-purple-600",children:"3건 완료, 12건 예정"})]})]}),(0,a.jsxs)(A,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,a.jsxs)(S,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(F,{className:"text-sm font-medium text-blue-700",children:"총 고객"}),(0,a.jsx)(eJ.A,{className:"h-5 w-5 text-blue-500"})]}),(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"248"}),(0,a.jsx)("p",{className:"text-xs text-blue-600",children:"이번 달 +12명 증가"})]})]}),(0,a.jsxs)(A,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,a.jsxs)(S,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(F,{className:"text-sm font-medium text-emerald-700",children:"월 매출"}),(0,a.jsx)(eI.A,{className:"h-5 w-5 text-emerald-500"})]}),(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"₩2.8M"}),(0,a.jsx)("p",{className:"text-xs text-emerald-600",children:"전월 대비 +18%"})]})]}),(0,a.jsxs)(A,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,a.jsxs)(S,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(F,{className:"text-sm font-medium text-amber-700",children:"갤러리 이미지"}),(0,a.jsx)(eG.A,{className:"h-5 w-5 text-amber-500"})]}),(0,a.jsxs)(P,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"156"}),(0,a.jsx)("p",{className:"text-xs text-amber-600",children:"142개 게시됨"})]})]})]}),(0,a.jsxs)(L,{defaultValue:"bookings",className:"space-y-6",children:[(0,a.jsxs)(z,{className:"grid w-full grid-cols-9 bg-gradient-to-r from-purple-100 to-pink-100 p-1 rounded-xl shadow-inner",children:[(0,a.jsxs)(M,{value:"bookings",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(ek.A,{className:"h-4 w-4 mr-2"}),"예약 관리"]}),(0,a.jsxs)(M,{value:"customers",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eJ.A,{className:"h-4 w-4 mr-2"}),"고객 CRM"]}),(0,a.jsxs)(M,{value:"gallery",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eG.A,{className:"h-4 w-4 mr-2"}),"갤러리"]}),(0,a.jsxs)(M,{value:"news",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eq.A,{className:"h-4 w-4 mr-2"}),"뉴스"]}),(0,a.jsxs)(M,{value:"products",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eH.A,{className:"h-4 w-4 mr-2"}),"제품"]}),(0,a.jsxs)(M,{value:"designs",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eV.A,{className:"h-4 w-4 mr-2"}),"디자인"]}),(0,a.jsxs)(M,{value:"carousel",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eI.A,{className:"h-4 w-4 mr-2"}),"캐러셀"]}),(0,a.jsxs)(M,{value:"ar-tryon",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(ez.A,{className:"h-4 w-4 mr-2"}),"AR 체험"]}),(0,a.jsxs)(M,{value:"admin",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-200",children:[(0,a.jsx)(eN.A,{className:"h-4 w-4 mr-2"}),"관리자"]})]}),(0,a.jsx)(U,{value:"bookings",className:"space-y-4",children:(0,a.jsx)(eE,{currentUser:s})}),(0,a.jsx)(U,{value:"customers",className:"space-y-4",children:(0,a.jsx)(eO,{currentUser:s})}),(0,a.jsx)(U,{value:"gallery",className:"space-y-4",children:(0,a.jsxs)(A,{className:"shadow-lg border-purple-100",children:[(0,a.jsxs)(S,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg",children:[(0,a.jsx)(F,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"갤러리 관리"}),(0,a.jsx)(T,{children:"네일 아트 이미지를 업로드하고 카테고리별로 관리합니다"})]}),(0,a.jsx)(P,{className:"p-6",children:(0,a.jsx)(ef,{})})]})}),(0,a.jsx)(U,{value:"news",className:"space-y-4",children:(0,a.jsxs)(A,{className:"shadow-lg border-purple-100",children:[(0,a.jsxs)(S,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg",children:[(0,a.jsx)(F,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"뉴스 관리"}),(0,a.jsx)(T,{children:"뉴스 기사를 작성하고 게시합니다"})]}),(0,a.jsx)(P,{className:"p-6",children:(0,a.jsx)(eg,{})})]})}),(0,a.jsx)(U,{value:"products",className:"space-y-4",children:(0,a.jsxs)(A,{className:"shadow-lg border-purple-100",children:[(0,a.jsxs)(S,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg",children:[(0,a.jsx)(F,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"제품 관리"}),(0,a.jsx)(T,{children:"네일 제품을 등록하고 관리합니다"})]}),(0,a.jsx)(P,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eH.A,{className:"h-16 w-16 text-purple-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"제품 관리 기능을 준비 중입니다."})]})})]})}),(0,a.jsx)(U,{value:"carousel",className:"space-y-4",children:(0,a.jsxs)(A,{className:"shadow-lg border-purple-100",children:[(0,a.jsxs)(S,{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg",children:[(0,a.jsx)(F,{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"캐러셀 관리"}),(0,a.jsx)(T,{children:"메인 페이지 슬라이드 이미지를 관리합니다"})]}),(0,a.jsx)(P,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(eI.A,{className:"h-16 w-16 text-purple-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"캐러셀 관리 기능을 준비 중입니다."})]})})]})}),(0,a.jsx)(U,{value:"designs",className:"space-y-4",children:(0,a.jsx)(eB,{})}),(0,a.jsx)(U,{value:"ar-tryon",className:"space-y-4",children:(0,a.jsx)(eU,{})}),(0,a.jsx)(U,{value:"admin",className:"space-y-4",children:(0,a.jsx)(ew,{currentUser:s})})]})]})}var eK=t(4835);function eQ(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(!0),c=(0,i.useRouter)();(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await m();s(e)}catch(e){console.error("Auth check failed:",e)}finally{n(!1)}},x=async()=>{try{await o(),s(null),c.refresh()}catch(e){console.error("Sign out failed:",e)}};return t?(0,a.jsx)("div",{className:"min-h-screen admin-gradient flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-white"})}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[(0,a.jsx)("header",{className:"admin-gradient shadow-lg",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-white/40 to-purple-200/30 flex items-center justify-center backdrop-blur-md border-2 border-white/50 shadow-lg pastel-float",children:(0,a.jsx)(eI.A,{className:"h-7 w-7 text-purple-700"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-700 to-pink-600 bg-clip-text text-transparent drop-shadow-sm",children:"ConnieNail Admin"}),(0,a.jsx)("p",{className:"text-purple-700 text-sm font-medium drop-shadow-sm",children:"럭셔리 네일 살롱 관리 시스템"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-white/40 to-purple-200/30 flex items-center justify-center backdrop-blur-md border-2 border-white/50 shadow-lg",children:(0,a.jsx)(eF.A,{className:"h-5 w-5 text-purple-700"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-purple-700 drop-shadow-sm",children:e.firstName||e.email.split("@")[0]}),(0,a.jsx)("p",{className:"text-xs text-purple-600 capitalize font-medium",children:e.role.replace("_"," ")})]})]}),(0,a.jsxs)(b,{onClick:x,className:"bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 border-2 border-purple-200 hover:from-purple-200 hover:to-pink-200 hover:border-purple-300 transition-all duration-300 font-medium shadow-lg hover:shadow-xl",size:"sm",children:[(0,a.jsx)(eK.A,{className:"h-4 w-4 mr-2"}),"로그아웃"]})]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)(eW,{currentUser:e})})]}):(0,a.jsx)("div",{className:"min-h-screen admin-gradient flex items-center justify-center p-4",children:(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("div",{className:"h-20 w-20 rounded-2xl bg-gradient-to-br from-white/30 to-purple-200/20 flex items-center justify-center backdrop-blur-md border-2 border-white/40 shadow-xl pastel-float pastel-glow",children:(0,a.jsx)(eI.A,{className:"h-10 w-10 text-purple-700"})})}),(0,a.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-purple-700 to-pink-600 bg-clip-text text-transparent mb-3 drop-shadow-lg",children:"ConnieNail"}),(0,a.jsx)("p",{className:"text-purple-700 font-medium text-lg drop-shadow-sm",children:"럭셔리 네일 살롱 관리"})]}),(0,a.jsx)(I,{onSuccess:e=>{s(e)}})]})})}},8876:(e,s,t)=>{Promise.resolve().then(t.bind(t,6474))}},e=>{e.O(0,[540,618,441,964,358],()=>e(e.s=8876)),_N_E=e.O()}]);